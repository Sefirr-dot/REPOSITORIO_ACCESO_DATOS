package datos;

import java.io.File;
import java.io.FileInputStream;
import java.io.IOException;
import java.io.RandomAccessFile;
import java.util.Scanner;

public class Main {

	static final int POSICION = 92;
	public static void main(String[] args) throws IOException {

		Scanner sc = new Scanner(System.in);

		int opcion;
		do {
			mostrarMenu();
			opcion = sc.nextInt();
			switch(opcion) {
			case 1:
				listarAlumnos();
				break;
			case 2:
				break;
			case 3:
				break;
			case 4:
				break;
			case 5:
				System.out.println("Adios!!!");
				break;
			default:
				System.out.println("Elige una opcion valida Ma g");
			}
		} while(opcion == 0);
		sc.close();
	}

	private static void listarAlumnos() throws IOException {
		File archivo = new File(".\\Alumnos.dat");
		RandomAccessFile archAccessFile = new RandomAccessFile(archivo, "r");
		float salario =0;
		char nombre[] = new char[20],auxnombre;
		
		char localidad[] = new char[20], auxLocalidad;
		long posicion = 0;
		System.out.println("NUMALUMNO NOMBRE               LOCALIDAD            NUMASIG NOTAMEDIA");
		System.out.println("--------- -------------------- -------------------- ------- ---------");
		while(archAccessFile.getFilePointer() != archAccessFile.length()) {
			archAccessFile.seek(posicion);
			int numAlumno = archAccessFile.readInt();
			for (int i = 0; i < nombre.length; i++) {
				auxnombre = archAccessFile.readChar();
				nombre[i] = auxnombre;
			}
			
			String nombreString = new String(nombre);
			for (int i = 0; i < localidad.length; i++) {
				auxLocalidad = archAccessFile.readChar();
				localidad[i] = auxLocalidad;
			}
			String localidadString = new String(localidad);
			int numAsignaturas = archAccessFile.readInt();
			float notaMedia = archAccessFile.readFloat();
			posicion+=POSICION;
			System.out.println("       "+numAlumno+" "+nombreString+" "+  localidadString+" "+numAsignaturas+notaMedia);
		}		
	}

	private static void mostrarMenu() {
		System.out.println("--------------------------------------");
		System.out.println("---------1.LISTAR ALUMNOS-------------");
		System.out.println("---------2.LISTAR NOTAS---------------");
		System.out.println("---------3.ACTUALIZAR FICHERO ALUMNOS-");
		System.out.println("---------4.GENERAR FICHERO alumnos.XML");
		System.out.println("---------5.SALIR----------------------");
	}
	
	

}
